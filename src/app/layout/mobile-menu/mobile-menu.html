<!-- Bottom Navigation Bar -->
<nav class="bottom-nav">
  <a class="nav-item" [routerLink]="['/', activeLang()]" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}">
    <div class="icon-wrapper">
      <i class="ri-home-4-line"></i>
      <i class="ri-home-4-fill active-icon"></i>
    </div>
    <span>{{ 'Home' | transloco }}</span>
  </a>

  <a class="nav-item" (click)="visible = true" [class.active]="visible">
    <div class="icon-wrapper">
      <i class="ri-star-line"></i>
      <i class="ri-star-fill active-icon"></i>
    </div>
    <span>{{ 'Brands' | transloco }}</span>
  </a>

  <a class="nav-item" (click)="openCart()">
    <div class="icon-wrapper">
      <i class="ri-shopping-bag-3-line"></i>
      <i class="ri-shopping-bag-3-fill active-icon"></i>
      @if (cartCount() > 0) {
        <span class="badge">{{ cartCount() }}</span>
      }
    </div>
    <span>{{ 'Cart' | transloco }}</span>
  </a>

  <a class="nav-item" [routerLink]="['/', activeLang(), 'profile']" routerLinkActive="active">
    <div class="icon-wrapper">
      @if (isAuth()) {
        <div class="user-avatar-small">{{user()}}</div>
      } @else {
        <i class="ri-user-line"></i>
        <i class="ri-user-fill active-icon"></i>
      }
    </div>
    <span>{{ 'Profile' | transloco }}</span>
  </a>

  <a class="nav-item" [routerLink]="['/', activeLang(), 'contacts']" routerLinkActive="active">
    <div class="icon-wrapper">
      <i class="ri-store-2-line"></i>
      <i class="ri-store-2-fill active-icon"></i>
    </div>
    <span>{{ 'Stores' | transloco }}</span>
  </a>
</nav>

<!-- Brands Drawer (Full Screen) -->
<div class="card flex justify-center">
  <p-drawer header="Brands"
            [(visible)]="visible"
            [fullScreen]="true"
            styleClass="catalog-drawer">

    <ng-template pTemplate="header">
      <div class="drawer-custom-header">
        <span class="drawer-title">{{ 'Brands' | transloco }}</span>
        <div class="lang-switch-mobile">
          @for (lang of languages; track lang) {
            <div class="lang-option" [class.active]="activeLang() === lang" (click)="setActiveLang(lang)">
              {{ lang | uppercase }}
            </div>
          }
        </div>
      </div>
    </ng-template>

    <div class="drawer-content">
      <div class="search-container">
        <div class="search-input-wrapper">
          <i class="ri-search-line"></i>
          <input type="text" [placeholder]="'Search'| transloco"/>
        </div>
      </div>

      <!-- Categories (Horizontal Scroll) -->
      @if (categories().length > 0) {
        <div class="categories-scroll-container">
          <div class="categories-scroll">
            @for (cat of categories(); track cat.id) {
              <div class="category-item" (click)="goToCategory(cat)">
                <div class="cat-icon-circle">
                  <img [src]="cat.imageUrl || 'assets/images/no-image.png'" [alt]="cat.name" />
                </div>
                <span class="cat-name">{{ cat.name }}</span>
              </div>
            }
          </div>
        </div>
      }

      <!-- Brands List (Vertical Grid) -->
      @if (brands().length > 0) {
        <div class="brands-grid">
          @for (brand of brands(); track brand.brand) {
            <button class="brand-item" (click)="goToBrandList(brand)">
              {{ brand.brandAlias }}
            </button>
          }
        </div>
      }
    </div>
  </p-drawer>
</div>
