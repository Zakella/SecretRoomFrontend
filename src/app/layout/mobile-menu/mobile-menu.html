<!-- Bottom Navigation Bar -->
<nav class="bottom-nav">
  <a class="nav-item" [routerLink]="['/', activeLang()]" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}">
    <div class="icon-wrapper">
      <i class="ri-home-4-line"></i>
      <i class="ri-home-4-fill active-icon"></i>
    </div>
    <span>{{ 'Home' | transloco }}</span>
  </a>

  <a class="nav-item" (click)="visible = true" [class.active]="visible">
    <div class="icon-wrapper">
      <i class="ri-search-line"></i>
      <i class="ri-search-fill active-icon"></i>
    </div>
    <span>{{ 'Catalog' | transloco }}</span>
  </a>

  <a class="nav-item" (click)="openCart()">
    <div class="icon-wrapper">
      <i class="ri-shopping-bag-3-line"></i>
      <i class="ri-shopping-bag-3-fill active-icon"></i>
      @if (cartCount() > 0) {
        <span class="badge">{{ cartCount() }}</span>
      }
    </div>
    <span>{{ 'Cart' | transloco }}</span>
  </a>

  <a class="nav-item" [routerLink]="['/', activeLang(), 'profile']" routerLinkActive="active">
    <div class="icon-wrapper">
      @if (isAuth()) {
        <div class="user-avatar-small">{{user()}}</div>
      } @else {
        <i class="ri-user-line"></i>
        <i class="ri-user-fill active-icon"></i>
      }
    </div>
    <span>{{ 'Profile' | transloco }}</span>
  </a>

  <a class="nav-item" [routerLink]="['/', activeLang(), 'contacts']" routerLinkActive="active">
    <div class="icon-wrapper">
      <i class="ri-store-2-line"></i>
      <i class="ri-store-2-fill active-icon"></i>
    </div>
    <span>{{ 'Stores' | transloco }}</span>
  </a>
</nav>

<!-- Catalog Drawer (Full Screen) -->
<div class="card flex justify-center">
  <p-drawer header="Catalog"
            [(visible)]="visible"
            [fullScreen]="true"
            styleClass="catalog-drawer">

    <ng-template pTemplate="header">
      <div class="drawer-custom-header">
        <span class="drawer-title">Каталог</span>
        <div class="lang-switch-mobile">
          @for (lang of languages; track lang) {
            <div class="lang-option" [class.active]="activeLang() === lang" (click)="setActiveLang(lang)">
              {{ lang | uppercase }}
            </div>
          }
        </div>
      </div>
    </ng-template>

    <div class="drawer-content">
      <div class="search-container">
        <div class="search-input-wrapper">
          <i class="ri-search-line"></i>
          <input type="text" [placeholder]="'Search'| transloco"/>
        </div>
      </div>

      <div class="categories-grid">
        @for (item of categories; track item.label){
          <div class="category-item">
            <div class="cat-icon-circle">
              <img [src]="item.icon" alt="" />
            </div>
            <span class="cat-name">{{ item.label }}</span>
          </div>
        }
      </div>
    </div>
  </p-drawer>
</div>
