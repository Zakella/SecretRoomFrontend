<div class="product-card" [class.bestseller]="isBestSeller()" [class.new-arrival]="isNew()" [class.on-sale]="hasDiscount()">
  <div class="image-wrapper">
    @if (isBestSeller()) {
      <div class="badge badge-status badge-bestseller">
        <i class="ri-fire-fill"></i>
        <span>Bestseller</span>
      </div>
    } @else if (isNew()) {
      <div class="badge badge-status badge-new">
        <i class="ri-sparkling-fill"></i>
        <span>New</span>
      </div>
    }

    <button class="wishlist-btn" (click)="$event.stopPropagation()">
      <i class="ri-heart-line"></i>
    </button>

    <div class="img-container" (click)="navToProduct()">
      <img [src]="imageUrl()" [alt]="product()?.name" class="main-img"/>
      @if (hoverImageUrl()) {
        <img [src]="hoverImageUrl()" [alt]="product()?.name" class="hover-img"/>
      }
    </div>
  </div>

  <div class="info" (click)="navToProduct()">

    <h2 class="brand-name">
      <span>
        {{ product()?.brandAlias }}</span>
    </h2>
    <h3 class="name">{{ product()?.name }}</h3>

    <div class="price-block" [class.has-discount]="hasDiscount()">
      @if (hasDiscount() && oldPrice()) {
        <span class="old-price">{{ oldPrice() }} MDL</span>
      }
      <p class="price" [class.sale-price]="hasDiscount()">
        <span class="amount">{{ price() }}</span>
        <span class="currency">MDL</span>
      </p>
    </div>
  </div>

  <div class="product-info">
    <button
      class="add-to-bag-btn"
      (click)="addProductInCart(); $event.stopPropagation()"
      analyticEvent="buy_click"
    >
      <i class="ri-shopping-bag-line"></i>
      <span>{{ 'Add to Cart' | transloco }}</span>
    </button>
  </div>
</div>
