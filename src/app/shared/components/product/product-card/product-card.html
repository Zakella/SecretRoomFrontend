<!--
<div class="product-card">
    @if (isBestSeller()){
      <div class="limited-badge">
        <span>LIMITED EDITION</span>
      </div>
    }

    <div class="product-image-container">
      <img (click)="navToProduct()" [src]="imageUrl()" [alt]="product() | localizedName" class="product-image" loading="lazy"/>
    </div>


    <div class="product-info">
      <h3 class="product-name">{{product() | localizedName}}</h3>
      <p class="product-description">Lorem ipsum dolor sit.</p>
      <p class="product-price">{{ price() }} MDL </p>

      <button class="add-to-bag-btn" (click)="addProductInCart()" analyticEvent="buy_click">
        {{ 'Add to Cart' | transloco }}
      </button>
    </div>
</div>
-->


<div class="product-card" [class.bestseller]="isBestSeller()" [class.new-arrival]="isNew()" [class.on-sale]="hasDiscount()">
  <div class="image-wrapper">
    <!-- Brand Badge -->


    <!-- Status Badges (right side) -->
    @if (isBestSeller()) {
      <div class="badge badge-status badge-bestseller">
        <i class="ri-fire-fill"></i>
        <span>Bestseller</span>
      </div>
    } @else if (isNew()) {
      <div class="badge badge-status badge-new">
        <i class="ri-sparkling-fill"></i>
        <span>New</span>
      </div>
    } @else if (isOutOfStock()) {
      <div class="badge badge-status badge-out-of-stock">
        <i class="ri-close-circle-fill"></i>
        <span>{{ 'OutOfStock' | transloco }}</span>
      </div>
    } @else if (!product()?.variants?.length && product()?.unitsInStock === 1) {
      <div class="badge badge-status badge-last-item">
        <i class="ri-error-warning-fill"></i>
        <span>{{ 'LastItem' | transloco }}</span>
      </div>
    } @else if (!product()?.variants?.length && product()?.unitsInStock !== undefined && product()!.unitsInStock! <= 3 && product()!.unitsInStock! > 0) {
      <div class="badge badge-status badge-low-stock">
        <i class="ri-fire-fill"></i>
        <span>{{ 'LowInStock' | transloco }}</span>
      </div>
    }

    <button class="wishlist-btn" [class.active]="isFavorite()" (click)="toggleFavorite($event)">
      <i [class]="isFavorite() ? 'ri-heart-fill' : 'ri-heart-line'"></i>
    </button>

    <a class="img-container" [routerLink]="productUrl()" [queryParams]="queryParams()">
      <img [src]="imageUrl()" [alt]="product() | localizedName" class="main-img" loading="lazy"/>
      @if (hoverImageUrl()) {
        <img [src]="hoverImageUrl()" [alt]="product() | localizedName" class="hover-img" loading="lazy"/>
      }
    </a>
  </div>

  <a class="info" [routerLink]="productUrl()" [queryParams]="queryParams()">

    <h2 class="brand-name">
      <span>
        {{ product()?.brandAlias }}</span>
    </h2>
    <h3 class="name">{{ product() | localizedName }}</h3>

    <product-price [price]="price()!" [oldPrice]="oldPrice()"/>
  </a>

  <div class="product-info">
    @if (isOutOfStock()) {
      <button class="add-to-bag-btn out-of-stock-btn" disabled>
        <i class="ri-close-circle-line"></i>
        <span>{{ 'OutOfStock' | transloco }}</span>
      </button>
    } @else {
      <button
        class="add-to-bag-btn"
        (click)="addProductInCart(); $event.stopPropagation()"
        analyticEvent="buy_click"
      >
        <i class="ri-shopping-bag-line"></i>
        <span>{{ 'Add to Cart' | transloco }}</span>
      </button>
    }
  </div>
</div>
